(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"5nP1":function(t,e,i){"use strict";i.r(e),i.d(e,"ListModule",(function(){return $}));var s=i("ofXK"),a=i("PCNd"),n=i("tyNb"),r=i("0IaG"),o=i("fXoL"),c=i("bTqV");let b=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.message=e.message,this.title=e.title}ngOnInit(){}onDismiss(){this.dialogRef.close(!1)}onConfirm(){this.dialogRef.close(!0)}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(r.f),o.Kb(r.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-confirm-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","type","button",3,"click"],["mat-raised-button","","type","button","color","primary",3,"click"]],template:function(t,e){1&t&&(o.Pb(0,"h1",0),o.xc(1),o.Ob(),o.Pb(2,"div",1),o.Pb(3,"p"),o.xc(4),o.Ob(),o.Ob(),o.Pb(5,"div",2),o.Pb(6,"button",3),o.Wb("click",(function(){return e.onDismiss()})),o.xc(7,"No"),o.Ob(),o.Pb(8,"button",4),o.Wb("click",(function(){return e.onConfirm()})),o.xc(9,"Yes"),o.Ob(),o.Ob()),2&t&&(o.zb(1),o.zc(" ",e.title,"\n"),o.zb(3),o.yc(e.message))},directives:[r.g,r.d,r.c,c.a],encapsulation:2}),t})();var l=i("3Pt+"),m=i("niax"),u=i("21no"),d=i("kmnG"),f=i("qFsG"),h=i("/1cH"),g=i("NFeN"),p=i("FKr1"),v=i("sYmb");function O(t,e){if(1&t&&(o.Pb(0,"mat-option",10),o.xc(1),o.Ob()),2&t){const t=e.$implicit;o.ec("value",t),o.zb(1),o.Ac(" ",t.username," - ",t.email," ")}}function _(t,e){1&t&&o.Lb(0,"span",11)}let P=(()=>{class t{constructor(t,e,i,s,a){this.formBuilder=t,this.accountService=e,this.listService=i,this.dialogRef=s,this.data=a,this.loading=!1,this.submitted=!1,this.usersFound=[],console.log("data",a),this.listId=a.listId}ngOnInit(){this.form=this.formBuilder.group({filter:[""],description:["",l.r.required]})}get f(){return this.form.controls}onSubmit(){console.log("submit",this.f.filter.value),this.f.filter.value._id&&this.listService.shareList(this.listId,this.f.filter.value).subscribe(t=>{console.log("response share user",t)})}onClose(){console.log("close"),this.dialogRef.close(!1)}getFilteredUsers(t){console.log(t),this.accountService.geFilteredUsers(t).subscribe(t=>{console.log("users",t),this.usersFound=t})}displayUser(t){return t&&t.username?t.username:""}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(l.c),o.Kb(m.a),o.Kb(u.a),o.Kb(r.f),o.Kb(r.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-share"]],decls:21,vars:15,consts:[[3,"formGroup","ngSubmit"],[1,"example-full-width"],["type","text","aria-label","Number","matInput","","formControlName","filter",3,"placeholder","matAutocomplete","input"],["autoActiveFirstOption","",3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","submit","mat-button","",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["inline",""],["mat-button","","type","button",3,"click"],[3,"value"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,e){if(1&t&&(o.Pb(0,"h2"),o.xc(1),o.Zb(2,"translate"),o.Ob(),o.Pb(3,"form",0),o.Wb("ngSubmit",(function(){return e.onSubmit()})),o.Pb(4,"mat-form-field",1),o.Pb(5,"input",2),o.Wb("input",(function(t){return e.getFilteredUsers(t.target.value)})),o.Zb(6,"translate"),o.Ob(),o.Pb(7,"mat-autocomplete",3,4),o.wc(9,O,2,3,"mat-option",5),o.Ob(),o.Ob(),o.Pb(10,"div"),o.Pb(11,"button",6),o.wc(12,_,1,0,"span",7),o.xc(13),o.Zb(14,"translate"),o.Pb(15,"mat-icon",8),o.xc(16,"person_add"),o.Ob(),o.Ob(),o.Pb(17,"button",9),o.Wb("click",(function(){return e.onClose()})),o.xc(18,"Cancel "),o.Pb(19,"mat-icon",8),o.xc(20,"cancel"),o.Ob(),o.Ob(),o.Ob(),o.Ob()),2&t){const t=o.kc(8);o.zb(1),o.yc(o.ac(2,9,"lists.share.title")),o.zb(2),o.ec("formGroup",e.form),o.zb(2),o.fc("placeholder",o.ac(6,11,"lists.share.field.usernameOrEmail")),o.ec("matAutocomplete",t),o.zb(2),o.ec("displayWith",e.displayUser),o.zb(2),o.ec("ngForOf",e.usersFound),o.zb(2),o.ec("disabled",e.loading),o.zb(1),o.ec("ngIf",e.loading),o.zb(1),o.zc(" ",o.ac(14,13,"lists.share.button.send")," ")}},directives:[l.t,l.l,l.f,d.c,f.a,l.b,h.c,l.k,l.e,h.a,s.k,c.a,s.l,g.a,p.h],pipes:[v.c],encapsulation:2}),t})();class w{constructor(t,e){t&&(this.name=t),e&&(this.description=e)}}function x(t,e){1&t&&(o.Pb(0,"h2"),o.xc(1),o.Zb(2,"translate"),o.Ob()),2&t&&(o.zb(1),o.yc(o.ac(2,1,"lists.add")))}function z(t,e){1&t&&(o.Pb(0,"h2"),o.xc(1),o.Zb(2,"translate"),o.Ob()),2&t&&(o.zb(1),o.yc(o.ac(2,1,"lists.edit")))}function I(t,e){1&t&&(o.Pb(0,"div"),o.xc(1,"Name is required"),o.Ob())}function y(t,e){if(1&t&&(o.Pb(0,"div",10),o.wc(1,I,2,0,"div",0),o.Ob()),2&t){const t=o.Yb();o.zb(1),o.ec("ngIf",t.f.name.errors.required)}}function k(t,e){1&t&&o.Lb(0,"div",10)}function L(t,e){1&t&&o.Lb(0,"span",11)}const S=function(t){return{"is-invalid":t}};let F=(()=>{class t{constructor(t,e,i,s){this.listService=t,this.formBuilder=e,this.dialogRef=i,this.data=s,this.loading=!1,this.submitted=!1,this.list=s.list||new w,this.isAddMode=s.isAddMode}ngOnInit(){this.form=this.formBuilder.group({name:["",l.r.required],description:["",l.r.required]}),this.list._id&&(this.f.name.setValue(this.list.name),this.f.description.setValue(this.list.description))}get f(){return this.form.controls}onSubmit(){this.list.name=this.f.name.value,this.list.description=this.f.description.value,this.listService.addList(this.list).subscribe(t=>{this.dialogRef.close(t)})}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(u.a),o.Kb(l.c),o.Kb(r.f),o.Kb(r.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-list-edit"]],decls:24,vars:10,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],["for","name"],["matInput","","type","text","formControlName","name"],["class","invalid-feedback",4,"ngIf"],["for","description"],["matInput","","type","text","formControlName","description",3,"ngClass"],["type","submit","mat-button","",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["mat-button","","type","button",3,"click"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,e){1&t&&(o.wc(0,x,3,3,"h2",0),o.wc(1,z,3,3,"h2",0),o.Pb(2,"form",1),o.Wb("ngSubmit",(function(){return e.onSubmit()})),o.Pb(3,"div"),o.Pb(4,"mat-form-field"),o.Pb(5,"mat-label",2),o.xc(6,"Name"),o.Ob(),o.Lb(7,"input",3),o.wc(8,y,2,1,"div",4),o.Ob(),o.Pb(9,"mat-form-field"),o.Pb(10,"mat-label",5),o.xc(11,"Description"),o.Ob(),o.Lb(12,"input",6),o.wc(13,k,1,0,"div",4),o.Ob(),o.Ob(),o.Pb(14,"div"),o.Pb(15,"button",7),o.wc(16,L,1,0,"span",8),o.Pb(17,"mat-icon"),o.xc(18,"save"),o.Ob(),o.xc(19," Save "),o.Ob(),o.Pb(20,"button",9),o.Wb("click",(function(){return e.close()})),o.Pb(21,"mat-icon"),o.xc(22,"cancel"),o.Ob(),o.xc(23," Cancel"),o.Ob(),o.Ob(),o.Ob()),2&t&&(o.ec("ngIf",e.isAddMode),o.zb(1),o.ec("ngIf",!e.isAddMode),o.zb(1),o.ec("formGroup",e.form),o.zb(6),o.ec("ngIf",e.submitted&&e.f.name.errors),o.zb(4),o.ec("ngClass",o.ic(8,S,e.submitted&&e.f.description.errors)),o.zb(1),o.ec("ngIf",e.submitted&&e.f.description.errors),o.zb(2),o.ec("disabled",e.loading),o.zb(1),o.ec("ngIf",e.loading))},directives:[s.l,l.t,l.l,l.f,d.c,d.f,f.a,l.b,l.k,l.e,s.j,c.a,g.a],pipes:[v.c],encapsulation:2}),t})();var C=i("Wp6s"),A=i("STbY");function K(t,e){1&t&&o.Lb(0,"img",16)}function W(t,e){if(1&t&&o.Lb(0,"img",17),2&t){const t=o.Yb().$implicit;o.gc("src","v0/images/",t.owner.avatar.filename,".",t.owner.avatar.fileExt,"",o.oc)}}function N(t,e){1&t&&o.Lb(0,"img",21)}function U(t,e){if(1&t&&o.Lb(0,"img",22),2&t){const t=o.Yb().$implicit;o.gc("src","v0/images/",t.avatar.filename,".",t.avatar.fileExt,"",o.oc)}}function M(t,e){if(1&t&&(o.Pb(0,"div",18),o.wc(1,N,1,0,"img",19),o.wc(2,U,1,2,"img",20),o.Pb(3,"span"),o.xc(4),o.Ob(),o.Ob()),2&t){const t=e.$implicit;o.zb(1),o.ec("ngIf",!t.avatar),o.zb(1),o.ec("ngIf",t.avatar),o.zb(2),o.yc(t.username)}}const E=function(t){return[t]},Y=function(){return{exact:!0}};function Z(t,e){if(1&t){const t=o.Qb();o.Pb(0,"mat-card",4),o.Pb(1,"div"),o.Pb(2,"div",5),o.Pb(3,"div",6),o.Pb(4,"a",7),o.Pb(5,"mat-card-title"),o.xc(6),o.Ob(),o.Pb(7,"mat-card-subtitle"),o.xc(8),o.Ob(),o.Ob(),o.Ob(),o.Pb(9,"div",8),o.Pb(10,"span"),o.xc(11),o.Ob(),o.Pb(12,"button",9),o.Pb(13,"mat-icon"),o.xc(14,"more_vert"),o.Ob(),o.Ob(),o.Pb(15,"mat-menu",null,10),o.Pb(17,"button",11),o.Wb("click",(function(){o.mc(t);const i=e.$implicit;return o.Yb().onEdit(i)})),o.Pb(18,"mat-icon"),o.xc(19,"edit"),o.Ob(),o.Pb(20,"span"),o.xc(21),o.Zb(22,"translate"),o.Ob(),o.Ob(),o.Pb(23,"button",11),o.Wb("click",(function(){o.mc(t);const i=e.$implicit;return o.Yb().onDelete(i._id)})),o.Pb(24,"mat-icon"),o.xc(25,"delete"),o.Ob(),o.Pb(26,"span"),o.xc(27),o.Zb(28,"translate"),o.Ob(),o.Ob(),o.Pb(29,"button",11),o.Wb("click",(function(){o.mc(t);const i=e.$implicit;return o.Yb().onShare(i._id)})),o.Pb(30,"mat-icon"),o.xc(31,"person_add"),o.Ob(),o.Pb(32,"span"),o.xc(33),o.Zb(34,"translate"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(35,"mat-card-content"),o.Pb(36,"div",12),o.wc(37,K,1,0,"img",13),o.wc(38,W,1,2,"img",14),o.Pb(39,"span"),o.xc(40),o.Ob(),o.Ob(),o.wc(41,M,5,3,"div",15),o.Ob(),o.Ob()}if(2&t){const t=e.$implicit,i=o.kc(16);o.zb(4),o.ec("routerLink",o.ic(20,E,"/list/"+t._id))("routerLinkActiveOptions",o.hc(22,Y)),o.zb(2),o.yc(t.name),o.zb(2),o.yc(t.description),o.zb(3),o.Ac(" ",t.cartItems?t.cartItems.length:0,"/",(t.listItems?t.listItems.length:0)+(t.cartItems?t.cartItems.length:0)," "),o.zb(1),o.ec("matMenuTriggerFor",i),o.zb(9),o.yc(o.ac(22,14,"global.actions.edit")),o.zb(6),o.yc(o.ac(28,16,"global.actions.delete")),o.zb(6),o.yc(o.ac(34,18,"global.actions.share")),o.zb(4),o.ec("ngIf",!t.owner.avatar),o.zb(1),o.ec("ngIf",t.owner.avatar),o.zb(2),o.yc(t.owner.username),o.zb(1),o.ec("ngForOf",t.sharedUsers)}}const j=[{path:"",component:(()=>{class t{constructor(t,e,i){this.dialog=t,this.listService=e,this.accountService=i,this.userLists=this.listService.userListsSubject,this.user=this.accountService.sessionValue.user}ngOnInit(){this.listService.getUserList()}onEdit(t){this.dialog.open(F,{data:{list:t,isAddMode:!1}}).afterClosed().subscribe(t=>{this.listService.getUserList()})}onDelete(t){this.dialog.open(b,{data:{message:"Deseas borrar la lista",title:"Borrar lista"}}).afterClosed().subscribe(e=>{e?this.listService.deleteList(t).subscribe(t=>{this.listService.getUserList()}):console.log("closed without confirm")})}addList(){this.dialog.open(F,{data:{isAddMode:!0}}).afterClosed().subscribe(t=>{console.info("The list edit dialog was closed",t),this.listService.getUserList()})}onShare(t){this.dialog.open(P,{data:{listId:t}}).afterClosed().subscribe(t=>{console.info("The share dialog was closed",t),this.listService.getUserList()})}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(r.b),o.Kb(u.a),o.Kb(m.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-list-home"]],decls:7,vars:3,consts:[[1,"list-home"],["class","list-home__card",4,"ngFor","ngForOf"],[1,"list-home__add-button"],["mat-fab","","color","primary","aria-label","Add list",1,"mat-elevation-z6",3,"click"],[1,"list-home__card"],[1,"list-home__card-header"],[1,"list-home__card-header--title"],["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],[1,"toolbar__right"],["mat-icon-button","",1,"toolbar__sidenav-button",3,"matMenuTriggerFor"],["actions","matMenu"],["mat-menu-item","",3,"click"],[1,"list-home__avatar","list-home__avatar--owner"],["class","list-home__avatar-img list-home__avatar-img--owner","src","v0/images/default-user.jpg",4,"ngIf"],["class","list-home__avatar-img list-home__avatar-img--owner",3,"src",4,"ngIf"],["class","list-home__avatar list-home__avatar--shared-user",4,"ngFor","ngForOf"],["src","v0/images/default-user.jpg",1,"list-home__avatar-img","list-home__avatar-img--owner"],[1,"list-home__avatar-img","list-home__avatar-img--owner",3,"src"],[1,"list-home__avatar","list-home__avatar--shared-user"],["class","list-home__avatar-img list-home__avatar-img--shared-user","src","v0/images/default-user.jpg",4,"ngIf"],["class","list-home__avatar-img list-home__avatar-img--shared-user",3,"src",4,"ngIf"],["src","v0/images/default-user.jpg",1,"list-home__avatar-img","list-home__avatar-img--shared-user"],[1,"list-home__avatar-img","list-home__avatar-img--shared-user",3,"src"]],template:function(t,e){1&t&&(o.Pb(0,"div",0),o.wc(1,Z,42,23,"mat-card",1),o.Zb(2,"async"),o.Ob(),o.Pb(3,"div",2),o.Pb(4,"button",3),o.Wb("click",(function(){return e.addList()})),o.Pb(5,"mat-icon"),o.xc(6,"add"),o.Ob(),o.Ob(),o.Ob()),2&t&&(o.zb(1),o.ec("ngForOf",o.ac(2,1,e.userLists)))},directives:[s.k,c.a,g.a,C.a,n.e,n.d,C.e,C.d,A.c,A.d,A.a,C.b,s.l],pipes:[s.b,v.c],encapsulation:2}),t})()}];let R=(()=>{class t{}return t.\u0275mod=o.Ib({type:t}),t.\u0275inj=o.Hb({factory:function(e){return new(e||t)},imports:[[n.f.forChild(j)],n.f]}),t})(),$=(()=>{class t{}return t.\u0275mod=o.Ib({type:t}),t.\u0275inj=o.Hb({factory:function(e){return new(e||t)},imports:[[s.c,a.a,R]]}),t})()}}]);